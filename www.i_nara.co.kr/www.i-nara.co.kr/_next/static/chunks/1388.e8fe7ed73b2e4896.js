(()=>{let e=null,t="",a=t=>{let a=1e3*(parseInt(t,10)-3600)-Date.now()-1e3*Math.floor(1e3*Math.random());if(e&&clearTimeout(e),a<0){s();return}e=setTimeout(()=>{s()},a)},s=async()=>{let s=await fetch("".concat(t,"/api/oauth/token"),{method:"POST"}).then(e=>e.json());clearTimeout(e);let{exp:n,isRefreshPage:l}=s;if(l){postMessage({type:"page_refresh",value:null});return}if(!n){postMessage({type:"remove_exp",value:null});return}a("".concat(n))},n=s=>{let{type:n,value:l}=s.data;switch(n){case"init":t=l,postMessage({type:"init",value:"init"});break;case"set_exp":e&&clearTimeout(e),a(l)}};self.addEventListener("message",e=>{n(e)})})(),_N_E={};
//# sourceMappingURL=1388.e8fe7ed73b2e4896.js.map